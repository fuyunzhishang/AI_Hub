{"openapi":"3.0.0","info":{"title":"AI Hub API","version":"1.0.0","description":"音频处理、语音识别和云存储服务 API 文档","contact":{"name":"API Support","email":"support@example.com"}},"servers":[{"url":"http://localhost:3099","description":"开发服务器"},{"url":"https://api.example.com","description":"生产服务器"}],"components":{"securitySchemes":{"apiKey":{"type":"apiKey","in":"header","name":"X-API-Key"}}},"tags":[{"name":"音频处理","description":"音频转码、数据提取等功能"},{"name":"语音服务","description":"语音识别和语音合成功能"},{"name":"Google Files","description":"Google Files API 文件管理"},{"name":"腾讯云 STS","description":"腾讯云临时密钥生成"}],"paths":{"/api/audio/transcode":{"post":{"summary":"音频转码","tags":["音频处理"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"audio":{"type":"string","format":"binary","description":"音频文件 (支持 wav, mp3, ogg, m4a, aac, flac)"},"format":{"type":"string","enum":["mp3","wav","ogg","m4a","aac","flac"],"default":"mp3","description":"输出格式"},"bitrate":{"type":"string","default":"128k","description":"输出比特率"}},"required":["audio"]}}}},"responses":{"200":{"description":"转码成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"originalFile":{"type":"string"},"outputFile":{"type":"string"},"format":{"type":"string"},"bitrate":{"type":"string"},"url":{"type":"string"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/audio/extract":{"post":{"summary":"提取音频数据","tags":["音频处理"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"audio":{"type":"string","format":"binary","description":"音频文件 (支持 wav, mp3, ogg, m4a, aac, flac)"},"type":{"type":"string","enum":["all","metadata","waveform","spectrum"],"default":"all","description":"提取类型"}},"required":["audio"]}}}},"responses":{"200":{"description":"提取成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"metadata":{"type":"object","description":"音频元数据"},"waveform":{"type":"string","description":"波形图URL"},"spectrum":{"type":"string","description":"频谱图URL"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/audio/ffmpeg-status":{"get":{"summary":"检查FFmpeg安装状态","tags":["音频处理"],"responses":{"200":{"description":"成功获取FFmpeg状态","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"status":{"type":"object"},"userFriendlyMessage":{"type":"string"}}}}}}}}},"/api/audio/files":{"get":{"summary":"获取已处理文件列表","tags":["音频处理"],"responses":{"200":{"description":"成功获取文件列表","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/api/auth-video/create":{"post":{"summary":"创建授权视频验证任务","tags":["授权视频"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"video":{"type":"string","format":"binary","description":"视频文件 (支持 mp4, avi, mov, wmv, flv, webm, mkv, m4v，最大500MB)"},"content":{"type":"string","description":"授权文案"}},"required":["video","content"]}}}},"responses":{"200":{"description":"任务创建成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"authId":{"type":"string","description":"授权任务ID"},"originalFile":{"type":"object","description":"原始文件信息"},"content":{"type":"string","description":"授权文案"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/auth-video/create-by-url":{"post":{"summary":"通过URL创建授权视频验证任务","tags":["授权视频"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"videoUrl":{"type":"string","description":"视频文件URL"},"content":{"type":"string","description":"授权文案"}},"required":["videoUrl","content"]}}}},"responses":{"200":{"description":"任务创建成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"authId":{"type":"string","description":"授权任务ID"},"videoUrl":{"type":"string","description":"视频文件URL"},"content":{"type":"string","description":"授权文案"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/auth-video/query/{authId}":{"get":{"summary":"查询授权视频任务状态","tags":["授权视频"],"parameters":[{"in":"path","name":"authId","required":true,"schema":{"type":"string"},"description":"授权任务ID"}],"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"authId":{"type":"string","description":"授权任务ID"},"status":{"type":"string","description":"任务状态"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/digital-human/avatar/create":{"post":{"summary":"训练数字人模型","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"数字人标题"},"videoUrl":{"type":"string","description":"视频链接 (推荐，支持mp4/mov，h264编码，最大200MB，5秒-5分钟)"},"speakerId":{"type":"integer","description":"声音ID"},"object":{"type":"string","description":"视频对象路径"},"authId":{"type":"string","description":"授权视频ID"}},"required":["videoUrl"]}}}},"responses":{"200":{"description":"训练任务提交成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"}}}}}}}}}}},"/api/digital-human/avatar/create-by-image":{"post":{"summary":"通过图片训练数字人模型","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"type":"string","description":"图片链接 (支持jpg/jpeg/png，最大10MB，最小300x300px)"},"title":{"type":"string","description":"数字人标题"},"speakerId":{"type":"integer","description":"声音ID"},"object":{"type":"string","description":"视频对象路径"},"authId":{"type":"string","description":"授权视频ID"}},"required":["imageUrl"]}}}},"responses":{"200":{"description":"训练任务提交成功"}}}},"/api/digital-human/avatar/status":{"post":{"summary":"查询数字人训练状态","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"}},"required":["avatarId"]}}}},"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"progress":{"type":"integer","description":"训练进度 (0-100)"},"status":{"type":"string","enum":["ready","pending","failed","init"],"description":"训练状态"},"title":{"type":"string","description":"数字人标题"}}}}}}}}}}},"/api/digital-human/avatar/list":{"post":{"summary":"获取数字人列表","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"获取成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"avatarId":{"type":"integer"},"title":{"type":"string"}}}}}}}}}}}},"/api/digital-human/avatar/delete":{"post":{"summary":"删除数字人模型","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"}},"required":["avatarId"]}}}},"responses":{"200":{"description":"删除成功"}}}},"/api/digital-human/avatar/batch-status":{"post":{"summary":"批量查询数字人状态","tags":["数字人-模型管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"avatarIds":{"type":"array","items":{"type":"integer"},"description":"数字人ID数组"}},"required":["avatarIds"]}}}},"responses":{"200":{"description":"查询成功"}}}},"/api/digital-human/video/status":{"post":{"summary":"查询视频生成状态","tags":["数字人-视频生成"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"videoId":{"type":"integer","description":"视频ID"}},"required":["videoId"]}}}},"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"progress":{"type":"integer","description":"生成进度 (0-100)"},"status":{"type":"string","enum":["ready","pending","fail"],"description":"生成状态"},"title":{"type":"string","description":"视频标题"},"videoUrl":{"type":"string","description":"视频URL (有效期24小时)"}}}}}}}}}}},"/api/digital-human/video/create-by-voice":{"post":{"summary":"通过音频URL生成数字人视频","tags":["数字人-视频生成"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"},"audioUrl":{"type":"string","description":"音频文件URL (至少2秒)"},"title":{"type":"string","description":"视频标题"},"object":{"type":"string","description":"音频对象路径"}},"required":["avatarId","audioUrl"]}}}},"responses":{"200":{"description":"生成任务提交成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"videoId":{"type":"integer"},"length":{"type":"integer","description":"视频时长(毫秒)"}}}}}}}}}}},"/api/digital-human/video/create-by-audio-file":{"post":{"summary":"通过音频文件生成数字人视频","tags":["数字人-视频生成"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"},"audioFile":{"type":"string","format":"binary","description":"音频文件 (最大10MB，至少2秒)"},"title":{"type":"string","description":"视频标题"}},"required":["avatarId","audioFile"]}}}},"responses":{"200":{"description":"生成任务提交成功"}}}},"/api/digital-human/video/create-by-text":{"post":{"summary":"通过文本生成数字人视频","tags":["数字人-视频生成"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"avatarId":{"type":"integer","description":"数字人ID"},"speakerId":{"type":"integer","description":"声音ID"},"text":{"type":"string","description":"文本内容 (至少10个字符)","minLength":10},"title":{"type":"string","description":"视频标题"},"speedRatio":{"type":"number","description":"语速比例 (0.2-3.0，默认1.0)","minimum":0.2,"maximum":3,"default":1}},"required":["avatarId","speakerId","text"]}}}},"responses":{"200":{"description":"生成任务提交成功"}}}},"/api/digital-human/video/batch-status":{"post":{"summary":"批量查询视频状态","tags":["数字人-视频生成"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"videoIds":{"type":"array","items":{"type":"integer"},"description":"视频ID数组"}},"required":["videoIds"]}}}},"responses":{"200":{"description":"查询成功"}}}},"/api/digital-human/speaker/create":{"post":{"summary":"创建音色","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"audioUrl":{"type":"string","description":"音频链接 (与object互斥，优先级高)"},"object":{"type":"string","description":"音频对象路径 (与audioUrl互斥)"},"title":{"type":"string","description":"音色标题 (可选)"},"model":{"type":"string","enum":["V1.0","V2.0"],"description":"模型版本 (V1.0为精品模型，V2.0为情感模型支持25种语言，默认V1.0)","default":"V1.0"}},"anyOf":[{"required":["audioUrl"]},{"required":["object"]}]}}}},"responses":{"200":{"description":"音色创建任务提交成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"}}}}}}}}}}},"/api/digital-human/speaker/tts":{"post":{"summary":"语音合成(文本转语音)","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"text":{"type":"string","description":"待合成文本"},"speakerId":{"type":"integer","description":"音色ID"},"speedRatio":{"type":"number","description":"语速比例 (0.2-3.0，默认1.0)","minimum":0.2,"maximum":3,"default":1},"volumeRatio":{"type":"number","description":"音量比例 (0.1-3，默认1.0)","minimum":0.1,"maximum":3,"default":1},"pitchRatio":{"type":"number","description":"音调比例 (0.1-3，默认1.0)","minimum":0.1,"maximum":3,"default":1}},"required":["text","speakerId"]}}}},"responses":{"200":{"description":"语音合成成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"audio":{"type":"string","description":"Base64编码的MP3音频"},"length":{"type":"integer","description":"音频时长(毫秒)"}}}}}}}}}}},"/api/digital-human/speaker/list":{"post":{"summary":"查询音色列表","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"音色列表获取成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"},"title":{"type":"string","description":"音色标题"}}}}}}}}}}}},"/api/digital-human/speaker/status":{"post":{"summary":"查询音色克隆任务状态","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"}},"required":["speakerId"]}}}},"responses":{"200":{"description":"音色状态查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"title":{"type":"string","description":"音色标题"},"progress":{"type":"integer","description":"任务进度 (0-100)"},"status":{"type":"string","enum":["ready","pending","failed","init"],"description":"生成状态"},"frequency":{"type":"integer","description":"剩余克隆次数"}}}}}}}}}}},"/api/digital-human/speaker/recreate":{"post":{"summary":"重新创建音色","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"},"audioUrl":{"type":"string","description":"音频链接 (与object互斥，优先级高)"},"object":{"type":"string","description":"音频对象路径 (与audioUrl互斥)"}},"required":["speakerId"],"anyOf":[{"required":["audioUrl"]},{"required":["object"]}]}}}},"responses":{"200":{"description":"音色重建任务提交成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"frequency":{"type":"integer","description":"剩余重建次数"}}}}}}}}}}},"/api/digital-human/speaker/delete":{"post":{"summary":"删除音色","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"}},"required":["speakerId"]}}}},"responses":{"200":{"description":"音色删除成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"string","description":"删除结果"}}}}}}}}},"/api/digital-human/speaker/recreated-record":{"post":{"summary":"查询音色重新训练记录","tags":["数字人-音色管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"speakerId":{"type":"integer","description":"音色ID"}},"required":["speakerId"]}}}},"responses":{"200":{"description":"音色重训练记录查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"integer","description":"重训练创建时间戳(毫秒)"}}}}}}}}}},"/api/digital-human/upload/get-put-url":{"post":{"summary":"生成文件上传预签名URL","tags":["数字人-文件上传"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","enum":["video","audio"],"description":"文件类型"},"suffix":{"type":"string","description":"文件后缀名 (视频:mp4,mov,webm; 音频:mp3,m4a,wav)"}},"required":["type","suffix"]}}}},"responses":{"200":{"description":"上传URL生成成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"method":{"type":"string","description":"上传方法 (PUT)"},"type":{"type":"string","description":"云存储类型 (0或1)"},"object":{"type":"string","description":"对象路径"},"url":{"type":"string","description":"上传URL (24小时有效)"}}}}}}}}}}},"/api/digital-human/asset/get":{"post":{"summary":"查询账号剩余权益","tags":["数字人-资产管理"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"availableAvatar":{"type":"integer","description":"剩余数字人训练席位 (已废弃)"},"availableSpeaker":{"type":"integer","description":"剩余声音克隆次数 (已废弃)"},"validPoint":{"type":"integer","description":"剩余算力"},"validToTime":{"type":"string","description":"账号有效期"}}}}}}}}}}},"/api/digital-human/asset/records":{"post":{"summary":"查询账号积分变动记录","tags":["数字人-资产管理"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","description":"页码 (默认1)","default":1,"minimum":1},"size":{"type":"integer","description":"每页记录数 (默认10，最大100)","default":10,"minimum":1,"maximum":100}}}}}},"responses":{"200":{"description":"查询成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"size":{"type":"integer"},"pages":{"type":"integer"},"total":{"type":"integer"}}},"data":{"type":"array","items":{"type":"object","properties":{"point":{"type":"integer","description":"积分变动"},"createTime":{"type":"integer","description":"创建时间戳"},"status":{"type":"string","enum":["done","locked","canceled"],"description":"记录状态"},"description":{"type":"string","description":"记录描述"}}}}}}}}}}}},"/api/digital-human/tools/wait-task":{"post":{"summary":"等待任务完成","tags":["数字人-工具接口"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"taskType":{"type":"string","enum":["avatar","video"],"description":"任务类型"},"taskId":{"type":"integer","description":"任务ID"},"maxRetries":{"type":"integer","description":"最大重试次数 (默认60)","default":60},"retryInterval":{"type":"integer","description":"重试间隔毫秒数 (默认5000)","default":5000}},"required":["taskType","taskId"]}}}},"responses":{"200":{"description":"任务完成"}}}},"/api/digital-human/health":{"get":{"summary":"健康检查","tags":["数字人-工具接口"],"responses":{"200":{"description":"服务正常","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"timestamp":{"type":"string"},"version":{"type":"string"}}}}}}}}},"/api/google-files/upload":{"post":{"summary":"上传单个文件到Google Files API","tags":["Google Files"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"要上传的文件（最大2GB）"},"mimeType":{"type":"string","description":"文件MIME类型（可选，会自动检测）"},"displayName":{"type":"string","description":"显示名称（可选）"}},"required":["file"]}}}},"responses":{"200":{"description":"上传成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"fileId":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"},"sizeBytes":{"type":"string"},"uri":{"type":"string"},"expirationTime":{"type":"string"}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/google-files/batch-upload":{"post":{"summary":"批量上传文件到Google Files API","tags":["Google Files"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"files":{"type":"array","items":{"type":"string","format":"binary"},"description":"要上传的文件数组（最多10个，每个最大2GB）"},"mimeTypes":{"type":"array","items":{"type":"string"},"description":"文件MIME类型数组（可选）"},"displayNames":{"type":"array","items":{"type":"string"},"description":"显示名称数组（可选）"}},"required":["files"]}}}},"responses":{"200":{"description":"批量上传成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"succeeded":{"type":"array","items":{"type":"object"}},"failed":{"type":"array","items":{"type":"object"}}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/google-files/{fileId}":{"get":{"summary":"获取Google Files中的文件信息","tags":["Google Files"],"parameters":[{"in":"path","name":"fileId","required":true,"schema":{"type":"string"},"description":"文件ID"}],"responses":{"200":{"description":"成功获取文件信息","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"fileId":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"},"sizeBytes":{"type":"string"},"uri":{"type":"string"},"state":{"type":"string"}}}}}}}},"404":{"description":"文件不存在"},"500":{"description":"服务器错误"}}},"delete":{"summary":"删除Google Files中的文件","tags":["Google Files"],"parameters":[{"in":"path","name":"fileId","required":true,"schema":{"type":"string"},"description":"要删除的文件ID"}],"responses":{"200":{"description":"删除成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}}}}}},"404":{"description":"文件不存在"},"500":{"description":"服务器错误"}}}},"/api/google-files/list":{"get":{"summary":"列出Google Files中的所有文件","tags":["Google Files"],"parameters":[{"in":"query","name":"pageSize","schema":{"type":"integer","minimum":1,"maximum":100,"default":10},"description":"页面大小"},{"in":"query","name":"pageToken","schema":{"type":"string"},"description":"分页令牌"}],"responses":{"200":{"description":"成功获取文件列表","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"files":{"type":"array","items":{"type":"object","properties":{"fileId":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"},"sizeBytes":{"type":"string"}}}},"nextPageToken":{"type":"string"}}}}}}}},"500":{"description":"服务器错误"}}}},"/api/speech/recognize":{"post":{"summary":"语音识别","tags":["语音服务"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"audio":{"type":"string","format":"binary","description":"音频文件 (支持 wav, mp3, silk, m4a, aac, flac，最大100MB，大于5MB自动上传到COS)"},"engineType":{"type":"string","enum":["16k_zh","16k_zh_dialect","16k_en","16k_ca"],"default":"16k_zh","description":"识别引擎类型:\n- 16k_zh: 普通话\n- 16k_zh_dialect: 中文方言\n- 16k_en: 英语\n- 16k_ca: 粤语\n"}},"required":["audio"]}}}},"responses":{"200":{"description":"识别成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"text":{"type":"string","description":"识别出的文本"},"duration":{"type":"number","description":"音频时长（秒）"},"words":{"type":"array","description":"详细的词级别信息","items":{"type":"object"}}}}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/speech/cleanup-cos":{"post":{"summary":"清理COS临时文件","tags":["语音服务"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"cosKey":{"type":"string","description":"COS文件键值"}},"required":["cosKey"]}}}},"responses":{"200":{"description":"清理成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"deletedKey":{"type":"string"}}}}}},"400":{"description":"请求错误"},"500":{"description":"服务器错误"}}}},"/api/sts/get-credential":{"post":{"summary":"获取腾讯云临时密钥","tags":["腾讯云 STS"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bucket":{"type":"string","description":"COS 存储桶名称","example":"example-1250000000"},"region":{"type":"string","description":"COS 存储桶所在地域","example":"ap-guangzhou"},"actionType":{"type":"string","enum":["default","upload","download","read"],"default":"default","description":"权限类型:\n- default: 默认权限（读写）\n- upload: 仅上传权限\n- download: 仅下载权限\n- read: 只读权限\n"},"allowPrefix":{"type":"string","default":"*","description":"资源前缀，支持通配符"},"durationSeconds":{"type":"integer","default":1800,"minimum":900,"maximum":7200,"description":"临时密钥有效期（秒）"}},"required":["bucket","region"]}}}},"responses":{"200":{"description":"成功获取临时密钥","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"tmpSecretId":{"type":"string","description":"临时密钥 ID"},"tmpSecretKey":{"type":"string","description":"临时密钥 Key"},"sessionToken":{"type":"string","description":"临时密钥 Token"},"startTime":{"type":"integer","description":"密钥生效时间（时间戳）"},"expiredTime":{"type":"integer","description":"密钥过期时间（时间戳）"}}}}}}}},"400":{"description":"请求参数错误"},"500":{"description":"服务器错误"}}}},"/v1/voice/train":{"post":{"summary":"提交音频训练音色","tags":["语音服务"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["audio","speaker_id"],"properties":{"audio":{"type":"string","format":"binary","description":"音频文件 (支持wav、mp3、ogg、m4a、aac、pcm格式，最大10MB)"},"speaker_id":{"type":"string","description":"唯一音色代号"},"text":{"type":"string","description":"音频对应的文本内容"},"language":{"type":"integer","default":0,"description":"语言类型，0-中文，1-英文，2-日语等"},"model_type":{"type":"integer","default":0,"description":"模型类型，0-1.0效果，1-2.0效果，2-DiT标准版，3-DiT还原版"}}}}}},"responses":{"200":{"description":"训练请求提交成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object"}}}}}},"400":{"description":"请求参数错误"},"500":{"description":"服务器内部错误"}}}},"/v1/voice/training/status":{"get":{"summary":"获取语音训练任务状态","description":"查询指定音色的训练状态信息（支持2.0及DiT版本）","tags":["语音服务"],"parameters":[{"in":"query","name":"speaker_id","required":true,"description":"唯一音色代号（从控制台获取）","schema":{"type":"string","example":"S_12345678"}}],"responses":{"200":{"description":"成功返回训练状态","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":0,"description":"状态码"},"message":{"type":"string","example":"success","description":"提示信息"},"data":{"type":"object","description":"训练状态数据"}}}}}},"400":{"description":"请求参数错误","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":400},"message":{"type":"string","example":"无效的speaker_id参数"}}}}}},"500":{"description":"服务器内部错误","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":500},"message":{"type":"string","example":"获取训练状态失败"}}}}}}}}}}}